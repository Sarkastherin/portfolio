---
// Datos ficticios para comenzar (pueden venir de un archivo o CMS más adelante)
import SectionLayout from "../layouts/SectionLayout.astro";

const testimonials = [
  {
    name: "Lucía R.",
    role: "Coordinadora Administrativa",
    quote:
      "Trabajar con Katherin fue un cambio total. Automatizó tareas que hacíamos manualmente y nos ahorró horas cada semana.",
    image: "/images/testimonio1.jpg", // imagen opcional
  },
  {
    name: "Carlos M.",
    role: "Emprendedor digital",
    quote:
      "Me ayudó a transformar mi hoja de cálculo en una app real. Profesional, clara y comprometida. La súper recomiendo.",
    image: "/images/testimonio2.jpg",
  },
  {
    name: "Andrea G.",
    role: "Analista de datos",
    quote:
      "No solo resolvió lo técnico, también entendió perfectamente nuestro proceso. Una crack.",
    image: "/images/testimonio3.jpg",
  },
];
---

<SectionLayout title="Testimonios">
  <div class="grid gap-8 md:grid-cols-3">
      {testimonials.map((t, i) => (
        <div class="bg-white rounded-2xl shadow-md p-6 text-left relative">
          <!-- Cita -->
          <p
            class="text-stone-700 text-sm leading-relaxed max-h-32 overflow-hidden transition-all duration-300"
            data-quote
          >
            "{t.quote}"
          </p>

          <!-- Botón -->
          <button
            type="button"
            class="text-rose-500 text-sm font-medium mt-2"
            data-toggle
          >
            Ver más →
          </button>

          <!-- Autor -->
          <div class="mt-4">
            <p class="font-semibold text-stone-800">{t.name}</p>
            <p class="text-xs text-stone-500">{t.role}</p>
          </div>
        </div>
      ))}
    </div>
</SectionLayout>
<!-- JS para el toggle -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const buttons = document.querySelectorAll("[data-toggle]");

    buttons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const quote = btn.previousElementSibling;
        const isExpanded = quote?.classList.contains("max-h-32");

        if (isExpanded) {
          quote?.classList.remove("max-h-32", "overflow-hidden");
          btn.textContent = "Ver menos ←";
        } else {
          quote?.classList.add("max-h-32", "overflow-hidden");
          btn.textContent = "Ver más →";
        }
      });
    });
  });
</script>
