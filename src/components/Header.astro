---
import NavLink from "./NavLink.astro";
import ButtonNav from "./ButtonNav.astro";
import "../../public/styles/global.css";

const currentPath = Astro.url.pathname;
---

<header class="bg-stone-200">
  <div class="mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <div class="md:flex md:items-center md:gap-12">
        <a
          class="text-rose-500 dark:text-rose-500 flex items-center gap-2"
          href="/"
        >
          <div class="text-2xl font-mono font-bold">&lt;kathe/&gt;</div>
        </a>
      </div>
      <!-- Botón Hamburguesa -->
      <button
        id="menu-toggle"
        class="block md:hidden p-2 text-stone-600 hover:text-rose-500 focus:outline-none"
        aria-label="Abrir menú"
      >
        <svg
          class="h-6 w-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      <!-- Desktop Nav -->
      <div class="hidden md:block">
        <nav aria-label="Global" class="flex items-center gap-6">
          <ul class="flex items-center gap-6 text-sm">
            <NavLink href="/" title="Inicio" active={currentPath === "/"} />
            <NavLink
              href="/services"
              title="Servicios"
              active={currentPath === "/services"}
            />
            <NavLink
              href="/about"
              title="Sobre mí"
              active={currentPath === "/about"}
            />
            <NavLink
              href="/blog"
              title="Blog"
              active={currentPath === "/blog"}
            />
          </ul>
          <ButtonNav href="/contactme" title="Contáctame" />
        </nav>
      </div>
      <!-- Menú móvil -->
    </div>
    <nav
      id="mobile-menu"
      class="hidden md:hidden absolute right-0 bg-stone-200 rounded-bl-lg border-b border-l border-stone-300 px-4 pb-4"
    >
      <ul class="flex flex-col gap-4 text-sm">
        <NavLink href="/" title="Inicio" active={currentPath === "/"} />
        <NavLink
          href="/services"
          title="Servicios"
          active={currentPath === "/services"}
        />
        <NavLink
          href="/about"
          title="Sobre mí"
          active={currentPath === "/about"}
        />
        <NavLink href="/blog" title="Blog" active={currentPath === "/blog"} />
        <ButtonNav href="/contactme" title="Contáctame" />
      </ul>
    </nav>
  </div>
</header>
<script type="module">
  const toggle = document.getElementById("menu-toggle");
  const menu = document.getElementById("mobile-menu");

  toggle.addEventListener("click", () => {
    menu.classList.toggle("hidden");
  });
</script>

<!-- hidden md:hidden -->
